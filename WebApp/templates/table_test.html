<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='script.js') }}"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Document</title>
    <meta id="my-data" champion="{{name}}">

    <style>
        table{
            border-collapse: collapse;
            border-spacing: 0;
        }
        th, td{
            padding: 10px 20px;
            border: 1px solid #000;
        }
    </style>

</head>
<body id="body">
<!--    <table id="table" data-show-columns="true"></table>

    <script>
        let name = '{{ name }}';
        // alert(name);
        const headers = '{{ headers|tojson }}';
        const obj = JSON.parse(headers);
        // console.log(obj);
        // console.log(obj[0]);
        const data = '{{ data|tojson }}';
        const data_obj = JSON.parse(data);
        // console.log(data_obj);
        let keys = Object.keys(data_obj);
        let length = '{{ length }}';
        for (let i = 0; i < length; i++) {
            let arr = data_obj[keys[i]];
            // console.log(arr);
        }
        createTable(obj, data_obj, length);
    </script>
    <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script> -->
    <div class="toolbar">
        <div class="radio">
          <label>
            <input type="radio" checked name="theadClasses">
            <code>undefined</code>
          </label>
        </div>
        <div class="radio">
          <label>
            <input type="radio" name="theadClasses">
            <code>thead-light</code>
          </label>
        </div>
        <div class="radio">
          <label>
            <input type="radio" name="theadClasses">
            <code>thead-dark</code>
          </label>
        </div>
      </div>
      
      <table id="table" data-show-columns="true"></table>
      
      <script>
        var $table = $('#table')
      
        function buildTable($el, cells, rows) {
          var i
          var j
          var row
          var columns = []
          var data = []
      
          for (i = 0; i < cells; i++) {
            columns.push({
              field: 'field' + i,
              title: 'Cell' + i,
              sortable: true
            })
          }
          for (i = 0; i < rows; i++) {
            row = {}
            for (j = 0; j < cells; j++) {
              row['field' + j] = 'Row-' + i + '-' + j
            }
            data.push(row)
          }
      
          var classes = $('.toolbar input:checked').next().text()
      
          $el.bootstrapTable('destroy').bootstrapTable({
            columns: columns,
            data: data,
            showFullscreen: true,
            search: true,
            stickyHeader: true,
            stickyHeaderOffsetLeft: parseInt($('body').css('padding-left'), 10),
            stickyHeaderOffsetRight: parseInt($('body').css('padding-right'), 10),
            theadClasses: classes
          })
        }
      
        $(function() {
          $('.toolbar input').change(function () {
            buildTable($table, 20, 50)
          })
          buildTable($table, 20, 50)
        })
      </script>
      <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
</body>
</html>